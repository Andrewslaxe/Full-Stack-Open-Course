{"version":3,"sources":["services/Contacts.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","Contacts","axios","get","then","response","data","newObject","post","id","delete","concat","put","PersonForm","props","react_default","a","createElement","onSubmit","addName","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Persons","_ref","filteredPersons","setPersons","persons","setAlertMessage","setStatus","handleClick","person","window","confirm","name","Response","filter","n","catch","error","setTimeout","map","key","number","onClick","Filter","handlefilterChange","Notification","_ref2","message","Status","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","setNewName","_useState3","_useState4","setNewNumber","_useState5","_useState6","setFilter","_useState7","_useState8","_useState9","_useState10","Alertmessage","_useState11","_useState12","length","toLowerCase","includes","App_Notification","App_Filter","event","target","components_PersonForm","personObject","preventDefault","undefined","find","Uploadnumber","console","log","components_Persons","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.85c0fc84.chunk.js","sourcesContent":["import axios from \"axios\"\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl)\r\n\treturn request.then((response) => response.data)\r\n}\r\nconst deletePerson = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`)\r\n\treturn request.then((response) => response.data)\r\n}\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject)\r\n\treturn request.then((response) => response.data)\r\n}\r\nconst update = (newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n\treturn request.then((response) => response.data)\r\n}\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, deletePerson, update }\r\n","import React from \"react\"\r\nconst PersonForm = (props) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form onSubmit={props.addName}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tname:{\" \"}\r\n\t\t\t\t\t<input value={props.newName} onChange={props.handleNameChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tnumber:{\" \"}\r\n\t\t\t\t\t<input value={props.newNumber} onChange={props.handleNumberChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default PersonForm\r\n","import React from \"react\"\r\nimport Contacts from \"../services/Contacts\"\r\n\r\nconst Persons = ({\r\n\tfilteredPersons,\r\n\tsetPersons,\r\n\tpersons,\r\n\tsetAlertMessage,\r\n\tsetStatus,\r\n}) => {\r\n\tconst handleClick = (person) => {\r\n\t\treturn () => {\r\n\t\t\tif (window.confirm(`Delete ${person.name}?`)) {\r\n\t\t\t\tContacts.deletePerson(person.id)\r\n\t\t\t\t\t.then((Response) => {\r\n\t\t\t\t\t\tsetPersons(persons.filter((n) => n.id !== person.id))\r\n\t\t\t\t\t\tsetAlertMessage(`${person.name} deleted`)\r\n\t\t\t\t\t\tsetStatus(\"success\")\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetAlertMessage(`${person.name} can't be deleted`)\r\n\t\t\t\t\t\tsetStatus(\"fail\")\r\n\t\t\t\t\t})\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetAlertMessage(null)\r\n\t\t\t\t}, 5000)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<ul>\r\n\t\t\t{filteredPersons.map((person) => (\r\n\t\t\t\t<li key={person.name}>\r\n\t\t\t\t\t{person.name} {person.number}{\" \"}\r\n\t\t\t\t\t<button onClick={handleClick(person)}>Delete</button>\r\n\t\t\t\t</li>\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t)\r\n}\r\nexport default Persons\r\n","import React, { useState } from \"react\"\r\nimport Contacts from \"./services/Contacts\"\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport Persons from \"./components/Persons\"\r\n\r\nconst Filter = ({ filter, handlefilterChange }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with: <input value={filter} onChange={handlefilterChange} />\r\n\t\t</div>\r\n\t)\r\n}\r\nconst Notification = ({ message, Status }) => {\r\n\tconst failStyle = {\r\n\t\tcolor: \"red\",\r\n\t\tbackground: \"lightgrey\",\r\n\t\tfontSize: \"20px\",\r\n\t\tborderStyle: \"solid\",\r\n\t\tborderRadius: \"5px\",\r\n\t\tpadding: \"10px\",\r\n\t\tmarginBottom: \"10px\",\r\n\t}\r\n\tconst succesStyle = {\r\n\t\tcolor: \"green\",\r\n\t\tbackground: \"lightgrey\",\r\n\t\tfontSize: \"20px\",\r\n\t\tborderStyle: \"solid\",\r\n\t\tborderRadius: \"5px\",\r\n\t\tpadding: \"10px\",\r\n\t\tmarginBottom: \"10px\",\r\n\t}\r\n\tif (message === null) {\r\n\t\treturn null\r\n\t} else if (Status === \"success\") {\r\n\t\treturn <div style={succesStyle}>{message}</div>\r\n\t} else if (Status === \"fail\") {\r\n\t\treturn <div style={failStyle}>{message}</div>\r\n\t}\r\n}\r\n\r\nconst App = () => {\r\n\tconst [newName, setNewName] = useState(\"\")\r\n\tconst [newNumber, setNewNumber] = useState(\"\")\r\n\tconst [filter, setFilter] = useState(\"\")\r\n\tconst [persons, setPersons] = useState([])\r\n\tconst [Alertmessage, setAlertMessage] = useState(null)\r\n\tconst [Status, setStatus] = useState(\"\")\r\n\r\n\tif (persons.length === 0) {\r\n\t\tContacts.getAll().then((response) => {\r\n\t\t\tsetPersons(response)\r\n\t\t})\r\n\t}\r\n\tconst filteredPersons = persons.filter((person) =>\r\n\t\tperson.name.toLowerCase().includes(filter.toLowerCase())\r\n\t)\r\n\tconst Uploadnumber = (personObject) => {\r\n\t\tif (\r\n\t\t\twindow.confirm(\r\n\t\t\t\t`${personObject.name} is already added to phonebook, replace the old number with a new one?`\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tContacts.update(personObject)\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tsetAlertMessage(`${personObject.name} number updated`)\r\n\t\t\t\t\tsetStatus(\"success\")\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetAlertMessage(\r\n\t\t\t\t\t\t`Information of ${personObject.name} has already been removed from server`\r\n\t\t\t\t\t)\r\n\t\t\t\t\tsetStatus(\"fail\")\r\n\t\t\t\t})\r\n\t\t\tsetNewName(\"\")\r\n\t\t\tsetNewNumber(\"\")\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetAlertMessage(null)\r\n\t\t\t}, 5000)\r\n\t\t}\r\n\t}\r\n\tconst addName = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tvar personObject\r\n\t\tpersonObject = persons.find((person) => person.name === newName)\r\n\t\tif (personObject !== undefined) {\r\n\t\t\tpersonObject.number = newNumber\r\n\t\t\tUploadnumber(personObject)\r\n\t\t} else {\r\n\t\t\tpersonObject = {\r\n\t\t\t\tname: newName,\r\n\t\t\t\tnumber: newNumber,\r\n\t\t\t}\r\n\t\t\tContacts.create(personObject)\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tsetPersons(persons.concat(response))\r\n\t\t\t\t\tsetAlertMessage(`${newName} added to phonebook`)\r\n\t\t\t\t\tsetStatus(\"success\")\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetAlertMessage(`Error to create ${personObject.name} in server`)\r\n\t\t\t\t\tconsole.log(error.response.data)\r\n\t\t\t\t\tsetStatus(\"fail\")\r\n\t\t\t\t})\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetAlertMessage(null)\r\n\t\t\t}, 5000)\r\n\t\t\tsetNewName(\"\")\r\n\t\t\tsetNewNumber(\"\")\r\n\t\t}\r\n\t}\r\n\tconst handleNameChange = (event) => {\r\n\t\tsetNewName(event.target.value)\r\n\t}\r\n\tconst handleNumberChange = (event) => {\r\n\t\tsetNewNumber(event.target.value)\r\n\t}\r\n\tconst handlefilterChange = (event) => {\r\n\t\tsetFilter(event.target.value)\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Notification message={Alertmessage} Status={Status} />\r\n\t\t\t<Filter filter={filter} handlefilterChange={handlefilterChange} />\r\n\t\t\t<h3>Add a new</h3>\r\n\t\t\t<PersonForm\r\n\t\t\t\taddName={addName}\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t/>\r\n\t\t\t<h3>Numbers</h3>\r\n\t\t\t<Persons\r\n\t\t\t\tfilteredPersons={filteredPersons}\r\n\t\t\t\tsetPersons={setPersons}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tsetAlertMessage={setAlertMessage}\r\n\t\t\t\tsetStatus={setStatus}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\nimport App from \"./App\"\nimport { createRoot } from \"react-dom/client\"\n\ncreateRoot(document.getElementById(\"root\")).render(<App />)\n"],"sourceRoot":""}